<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>1药网购物车</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/cartList.css">

    <script src="js/jquery-1.11.0.js"></script>
    <script src="js/bootstrap.min.js"></script>
</head>

<body>
    <!-- 头部 -->
    <header>
        <img src="img/yao_logo.png" alt="" class="i1">
        <img src="img/cart1.png" alt="" class="i2">
        <h2>我的购物车</h2>
    </header>
    <!-- 版心 -->
    <section>
        <div class="lt">
            <span><input type="checkbox" id="bt">  全选</span>
            <span>商品信息</span>
            <span>金额</span>
            <span>数量</span>
            <span>小计</span>
            <span>操作</span>
        </div>
        <!-- 购物车列表 -->
        <div id="lc" style="margin-top: 10px;">
            <div class="lt" style="border-bottom: 1px solid #dbdbdb;">
                <h4>1药网</h4>
            </div>
            <!-- 购物车目录 -->
            <div id="cartList">
                <!-- <div class="mb">
                    <input type="checkbox" id="ck">
                    <img src="img/19.jpg" alt="">
                    <span>赤尾 避孕套 黄金超薄</span>
                    <span>￥33.0</span>
                    <span id="min">-</span>
                    <input type="text" value="1" id="con">
                    <span id="pull">+</span>
                    <span>￥33.0</span>
                    <span>删除</span>
                </div> -->
            </div>
        </div>
        <!-- 结算列表 -->
        <div class="lb">
            <ul>
                <li><input type="checkbox" id="bl"> 全选</li>
                <li>删除</li>
                <li>清空购物车</li>
                <li>商品总价:</li>
                <li><a href="SYePage.html">继续购物</a></li>
                <li>去结算</li>
            </ul>

        </div>
    </section>
    <!-- 页脚    -->
    <footer>
        <div class="bottom_link">
            <p><a href="//gangling.111.com.cn" rel="nofollow">关于111集团</a>|<a href="//www.111.com.cn/cmsPage/2015012602/" rel="nofollow">关于1药网</a>|<a href="//mall.yaoex.com" rel="nofollow">关于1药城</a>|<a href="http://ir.111.com.cn/" rel="nofollow">Investor Relations</a>|
                <a href="//www.111.com.cn/cmsPage/2015012707/" rel="nofollow">诚聘英才</a>|<a href="//www.111.com.cn/cmsPage/2014022401/index.html" rel="nofollow">直营实体药房</a></p>
            <p><a href="//www.111.com.cn/cmsPage/2013101401/" rel="nofollow">互联网药品信息服务资格证</a>|
                <!--<a href="//www.111.com.cn/cmsPage/2013101402/" rel="nofollow">互联网药品交易资格证：粤C20150007</a>|--><a href="//www.111.com.cn/cmsPage/2014041703/" rel="nofollow">连锁营业执照</a>|<a href="//www.111.com.cn/cmsPage/2013101405/" rel="nofollow">药品营业许可证</a>|<a href="//www.111.com.cn/cmsPage/2013101407/" rel="nofollow">医疗器械许可证</a>|<a href="//www.111.com.cn/cmsPage/2013101404/"
                    rel="nofollow">食品经营许可证</a>|<a href="//www.111.com.cn/cmsPage/2013101408/" rel="nofollow">GSP证书</a>|<a href="//www.111.com.cn/cmsPage/2015032501/" rel="nofollow">ICP粤B2-20150066</a></p>
        </div>
        <div class="copy_info">
            <p>1药网网上药店，国家药监局认证通过的合法网上药店，中国医药电子商务行业的开拓者领跑者。<a href="http://www.beian.miit.gov.cn" style="color:#999">粤ICP备12015869号-1</a>
                <!--<br/>公司名称：广东壹号大药房连锁有限公司 公司地址：广东省广州市越秀区共和西路1号2层 联系电话：020-31067218--></p>
            <p><span>Copyright(C)2010-2015 1药网版权所有</span><span id="tub" class="glyphicon glyphicon-phone-alt" aria-hidden="true"></span><a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=44010402000743" style="color:#999" rel="nofollow">公安备案号 440104020000743</a></span>
            </p>
        </div>
    </footer>
</body>
<script>
    // 获取购物车数据
    $.get("http://jx.xuzhixiang.top/ap/api/cart-list.php", {
            id: 202091
        }, data => {
            console.log(data);
            let str = "";
            for (let i = 0; i < data.data.length; i++) {
                str += `
                <div class="mb">
                    <input type="checkbox" id="ck">
                    <img src="${data.data[i].pimg}" alt="">
                    <span>${data.data[i].pname}</span>
                    <span>￥${data.data[i].pprice}</span>
                    <span id="min">-</span>
                    <input type="text" value="${data.data[i].pnum}" id="con">
                    <span id="pull">+</span>
                    <span>￥33.0</span>
                    <span>删除</span>
                </div>
                `;
            }
            $("#cartList").html(str);
        })
        // 全选
        // var qX = document.getElementById("bt");
        // var ck = document.getElementById("ck");
        // // console.log(ck)
        // qX.onclick = () => {
        //     console.log("aa")
        //     for (let i = 0; i < ck.length; i++) {
        //         ck[i].checked = qX.checked;
        //     }
        // }
        // for (let i = 0; i < ck.length; i++) {
        //     ck[i].onclick = () => {

    //         //判断单个复选框被勾选的数量和复选框的总量是否一致
    //         let count = 0;
    //         for (let j = 0; j < ck.length; j++) {
    //             if (ck[j].checked) {
    //                 count++;
    //             }
    //         }
    //         //判断勾选的个数和勾选框的个数是否一致
    //         if (count == ck.length) {
    //             qX.checked = true;
    //         } else {
    //             qX.checked = false;
    //         }
    //     }
    // }
    // 加减
    $("#min").click(function() {
        let val = +$("#con").val();
        val--;
        $("#con").val(val);
        // console.log(typeof val)
        if (val == 0) {
            $("#con").val(1);
        }
    });
    $("#pull").click(function() {
        let val = +$("#con").val();
        val++;
        $("#con").val(val);
    });
    $("#con").change(function() {
        if ($("#con").val() <= 1) {
            $("#con").val(1);
        }
    })
</script>

</html>